\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
%--------------------------------------------------
\begin{itemize}
\enhance{1}\item Limiting factor in usability and power of a application
\enhance{2}\item Maximize expressibility; minimize complexity
\enhance{3}\item Remove ``\code{ProblemType}'' parameter
\begin{itemize}
\enhance{3}\item   restricts scope of problems solved
\enhance{3}\item   requires knowledge of problem types
\enhance{3}\item reduced code possible: \code{*Initialize*.C} $\approx$\code{35000} lines 
\enhance{3}\item maintain functionality: \code{\#include "implosion.param"}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Parameter file grammar}
%--------------------------------------------------
Explicit parameter grouping / subgrouping
  \begin{block}{}\footnotesize\enhance{1}
      \verb+Physics {+ \\
      \verb+   gamma = 5.0/3.0;+ \\
      \verb+   cosmology {+ \\
      \verb+      hubble_constant_now = 0.701;+ \\
      \verb+      omega_lamda_now     = 0.721;+ \\
      \verb+      omega_matter_now    = 0.279;+ \\
      \verb+   }+ \\
      \verb+}+
   \end{block}
\end{frame}

\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Parameter data types}
%--------------------------------------------------
More flexible data types
\begin{center}
\footnotesize 
\begin{tabular}{|l|l|} \hline
\textbf{Basic Types} & \textbf{Example} \\ \hline
integer & \verb@12345@ \\
scalar &	\verb@6.673e-8@ \\
string 	& \verb@"velocity_x"@ \\ \hline
\enhance{2}\textbf{Expression Types} &	\enhance{2}\textbf{Example} \\ \hline
\enhance{2}scalar expression &	\enhance{2}\verb@2.0*sin(x) + cos(y)@ \\
\enhance{2}logical expression &	\enhance{2}\verb@(x < y) || (y < z)@ \\ \hline
\enhance{3}\textbf{Composite Types} & \enhance{3}\textbf{Example} \\ \hline
\enhance{3}list &	\enhance{3}\verb@[ "velocity_x", 3.14, x < y ]@ \\ \hline
\end{tabular}
\end{center}
\end{frame}

\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Parameter API}
%--------------------------------------------------
Easy to access and add new parameters
\begin{block}{}\footnotesize\enhance{1}
\begin{tabbing}
xxx\=xxxx\=xxxx\=\kill
\> \code{\#include "parameters.hpp"} \\
\ \\
\> \colorcode{Parameters * parameters = Parameters::instance();} \\ 
\ \\
\> \code{parameters->}\colorcode{set\_current\_group}\code{ ("Physics");} \\ 
\ \\
\> \code{Gamma = parameters->}\colorcode{value\_scalar}\code{("gamma",5.0/3.0);} \\ 
\end{tabbing}
\end{block}
\end{frame}


\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Example: Implosion problem}
%--------------------------------------------------
\begin{block}{}\footnotesize
\enhance{1}   \verb+   Domain { +\\
   \verb@      extent = [0.0, 0.3, 0.0, 0.3] @ \\
   \verb@   } @ \\
   \verb@@ \\
\enhance{2}   \verb@   Field {@ \\
   \verb@      courant   = 0.8;@ \\
   \verb@   }@ \\
   \verb@@ \\
\enhance{3}   \verb@   Mesh { @ \\
   \verb@      max_level      = 0; @ \\
   \verb@      root_size      = [400,400];@ \\
   \verb@   }@ \\
\end{block}
\end{frame}

\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Example: Implosion problem}
%--------------------------------------------------
\begin{block}{}\footnotesize
\enhance{1}  \verb@    Physics {@ \\
  \verb@       gamma = 1.4;@ \\
  \verb@    }@ \\
  \verb@ @ \\
\enhance{2}  \verb@    Method {@ \\
  \verb@  @ \\
  \verb@       sequence = ["ppm"];@ \\
  \verb@ @ \\
  \verb@       ppm {@ \\
  \verb@          diffusion   = false;@ \\
  \verb@          flattening  = false;@ \\
  \verb@          steepening  = true;@ \\
  \verb@      }@ \\
  \verb@    }@ \\
\end{block}
\end{frame}

\begin{frame}[fragile] 
%--------------------------------------------------
\frametitle{\enzop\ / \cello\ Parameters}
\framesubtitle{Example: Implosion problem}
%--------------------------------------------------
\begin{block}{}\footnotesize
\enhance{1}  \verb@    Initial {@ \\
  \verb@       density  = [ 0.125, x + y < 0.15, 1.0 ];  @ \\
  \verb@       pressure = [ 0.14,  x + y < 0.15, 1.0 ];@ \\
  \verb@       velocity_x = [0.0];@ \\
  \verb@       velocity_y = [0.0];@ \\
  \verb@    }@ \\
  \verb@ @ \\
\enhance{2}  \verb@    Stopping {@ \\
  \verb@       time  = 2.5;@ \\
  \verb@       cycle = 20000;@ \\
  \verb@    }@ \\
\end{block}
\end{frame}
