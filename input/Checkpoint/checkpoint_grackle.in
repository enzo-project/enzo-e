# Problem: Checkpoint-Restart Grackle
# Author: Matthew Abruzzo
#
# This is an input file for testing the new-style checkpoint-restart machinery
#

# In more detail, this mostly acts like a template-file that is used by the
# testing tool. In practice, the testing tool will:
# - provide a Stopping section and an Output section.
# - use the contents of Field:list to determine which fields to compare before
#   and after a restart (for new-style checkpoint-restart, the test can be
#   configured to skip this)
# Details are provided on the website documentation about how you can see the
# full parameter files that are generated in this test.

include "input/Checkpoint/legacy/checkpoint_grackle.in"

   Adapt {
      max_initial_level = 0;
      min_level = -1;
      max_level = 0;
   }

   Mesh {

     root_blocks = [2, 2, 2];
     root_rank = 3;
     root_size = [8, 8, 8];

   }

   Method {
      list = ["order_morton", "check", "grackle", "null"];

      order_morton {
          schedule {
             list = [2, 4];
             var = "cycle";
          };
      };

      check {
          dir = [ "Check-%02d", "cycle" ];
          num_files = 2;
          ordering = "order_morton";
          include_ghosts = false; # the program encounters an error on restart
                                  # when this is true
          schedule {
             list = [2, 4];
             var = "cycle";
          };
      };

   }